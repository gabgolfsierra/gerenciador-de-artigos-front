<div class="wrap">
  <h1>Cadastrar Artigo em Periódico</h1>

  <form
    class="artigo-form"
    (ngSubmit)="onSubmit(f)"
    #f="ngForm"
    novalidate
  >
    <fieldset>
      <legend>D.O.I.</legend>
      <div class="grid">
        <label>
          DOI do artigo
          <input
            type="text"
            name="doi"
            [(ngModel)]="artigo.doi"
            placeholder="10.xxxx/xxxxx"
            required
          />
        </label>
      </div>
    </fieldset>

    <fieldset>
      <legend>Dados gerais</legend>
      <div class="grid">
        <label class="wide">
          Título do artigo
          <input
            type="text"
            name="titulo"
            [(ngModel)]="artigo.titulo"
            required
          />
        </label>

        <label>
          Ano
          <input
            type="text"
            name="anoPublicacao"
            [(ngModel)]="artigo.anoPublicacao"
            inputmode="numeric"
            pattern="[0-9]{4}"
            placeholder="YYYY"
          />
        </label>

        <label>
          Idioma
          <select
            name="idioma"
            [(ngModel)]="artigo.idioma"
          >
            <option value="">Selecione</option>
            <option value="pt">Português</option>
            <option value="en">Inglês</option>
          </select>
        </label>

        <label>
          Meio de divulgação
          <select
            name="meioDivulgacao"
            [(ngModel)]="artigo.meioDivulgacao"
          >
            <option value="">Selecione</option>
            <option value="IMPRESSO">Impresso</option>
            <option value="ELETRONICO">Eletrônico</option>
            <option value="IMPRESSO_E_ELETRONICO">Impresso e Eletrônico</option>
          </select>
        </label>

        <label class="wide">
          Home page do trabalho (URL)
          <input
            type="url"
            name="homepageUrl"
            [(ngModel)]="artigo.homepageUrl"
            placeholder="https://..."
          />
        </label>
      </div>
    </fieldset>

    <fieldset>
      <legend>Detalhamento do periódico</legend>
      <div class="grid">
        <label class="wide">
          Título do periódico/revista
          <input
            type="text"
            name="tituloPeriodico"
            [(ngModel)]="artigo.tituloPeriodico"
          />
        </label>

        <label>
          ISSN
          <input
            type="text"
            name="issn"
            [(ngModel)]="artigo.issn"
            placeholder="1234-5678"
          />
        </label>

        <label>
          Volume
          <input
            type="text"
            name="volume"
            [(ngModel)]="artigo.volume"
          />
        </label>

        <label>
          Número
          <input
            type="text"
            name="numero"
            [(ngModel)]="artigo.numero"
          />
        </label>

        <label>
          Série
          <input
            type="text"
            name="serie"
            [(ngModel)]="artigo.serie"
          />
        </label>

        <label>
          Página inicial
          <input
            type="text"
            name="paginaInicial"
            [(ngModel)]="artigo.paginaInicial"
          />
        </label>

        <label>
          Página final
          <input
            type="text"
            name="paginaFinal"
            [(ngModel)]="artigo.paginaFinal"
          />
        </label>

        <label class="wide">
          Número do artigo eletrônico
          <input
            type="text"
            name="artigoEletronico"
            [(ngModel)]="artigo.artigoEletronico"
            placeholder="e12345"
          />
        </label>
      </div>
    </fieldset>

    <fieldset>
      <legend>Autores</legend>
      <div class="grid">
        <label>
          Autor – Nome
          <input
            type="text"
            name="autorNome"
            [(ngModel)]="artigo.autor!.nome"
            required
          />
        </label>
        <label>
          Autor – Sobrenome
          <input
            type="text"
            name="autorSobrenome"
            [(ngModel)]="artigo.autor!.sobrenome"
            required
          />
        </label>

        <label>
          Coautor – Nome
          <input
            type="text"
            name="coautorNome"
            [(ngModel)]="artigo.coautor!.nome"
          />
        </label>
        <label>
          Coautor – Sobrenome
          <input
            type="text"
            name="coautorSobrenome"
            [(ngModel)]="artigo.coautor!.sobrenome"
          />
        </label>

        <label class="wide">
          Outros autores (nome completo; separe com ponto e vírgula)
          <input
            type="text"
            name="outrosAutoresStr"
            [(ngModel)]="outrosAutoresStr"
            placeholder="Coautor A.; Coautor B.; Coautor C."
          />
        </label>
      </div>
    </fieldset>

    <fieldset>
      <legend>Palavras-chave</legend>
      <div class="grid">
        <label class="wide">
          Palavras-chave (separe por vírgula)
          <input
            type="text"
            name="palavrasChaveStr"
            [(ngModel)]="keywordsInput"
            placeholder="IA, aprendizado de máquina, robótica"
          />
        </label>
      </div>
    </fieldset>

    <fieldset>
      <legend>Áreas do conhecimento (CNPq)</legend>
      <div class="grid">
        <label>
          Grande área
          <input
            type="text"
            name="grandeArea0"
            [(ngModel)]="artigo.areasCNPq[0].grandeArea"
            required
          />
        </label>
        <label>
          Área
          <input
            type="text"
            name="area0"
            [(ngModel)]="artigo.areasCNPq[0].area"
            required
          />
        </label>
        <label>
          Subárea
          <input
            type="text"
            name="subarea0"
            [(ngModel)]="artigo.areasCNPq[0].subarea"
          />
        </label>
      </div>
    </fieldset>

    <fieldset>
      <legend>Setores de atividade</legend>
      <div class="grid">
        <label class="wide">
          Setores (separe por vírgula)
          <input
            type="text"
            name="setoresAtividadeStr"
            [(ngModel)]="setoresInput"
            placeholder="Educação, Saúde, TIC"
          />
        </label>
      </div>
    </fieldset>

    <fieldset>
      <legend>Outras informações</legend>
      <div class="grid">
        <label class="wide">
          Observações
          <textarea
            name="outrasInformacoes"
            [(ngModel)]="artigo.outrasInformacoes"
            placeholder="Informações adicionais relevantes"
          ></textarea>
        </label>
      </div>
    </fieldset>

    <fieldset>
      <legend>Traduções para o inglês</legend>
      <div class="grid">
        <label class="wide">
          Title
          <input
            type="text"
            name="tituloIngles"
            [(ngModel)]="artigo.tituloIngles"
          />
        </label>
        <label class="wide">
          Other information
          <textarea
            name="outrasInformacoesIngles"
            [(ngModel)]="artigo.outrasInformacoesIngles"
            placeholder="Additional notes in English"
          ></textarea>
        </label>
      </div>
    </fieldset>

    <fieldset>
      <legend>Instituição e orientador</legend>
      <div class="grid">
        <label class="wide">
          Instituição
          <input
            type="text"
            name="instituicao"
            [(ngModel)]="artigo.instituicao"
            required
          />
        </label>
        <label>
          Orientador – Nome
          <input
            type="text"
            name="orientadorNome"
            [(ngModel)]="artigo.orientador!.nome"
            required
          />
        </label>
        <label>
          Orientador – Sobrenome
          <input
            type="text"
            name="orientadorSobrenome"
            [(ngModel)]="artigo.orientador!.sobrenome"
            required
          />
        </label>
      </div>
    </fieldset>

    <div class="actions">
      <button type="submit" [disabled]="loading">
        Salvar Artigo
      </button>
    </div>
  </form>
</div>
